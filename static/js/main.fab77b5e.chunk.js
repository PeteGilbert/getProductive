(this["webpackJsonpproject-five"]=this["webpackJsonpproject-five"]||[]).push([[0],{14:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},20:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),o=a.n(r),l=(a(19),a(5)),c=a(1),i=a(2),u=a(4),m=a(3),h=(a(20),a(8)),p=a.n(h);a(22);p.a.initializeApp({apiKey:"AIzaSyBUg2ChT4L_XQS5_FOwPpAD8Ki4E1yR9_s",authDomain:"project5-8ad8a.firebaseapp.com",databaseURL:"https://project5-8ad8a.firebaseio.com",projectId:"project5-8ad8a",storageBucket:"project5-8ad8a.appspot.com",messagingSenderId:"238062275039",appId:"1:238062275039:web:7f9016ed5fc1e97f62dc6a"});var g=p.a,d=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={goals:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=g.database().ref(this.props.un);this.ismounted=!0,t.on("value",(function(t){var a=[],n=t.val();Object.values(n).forEach((function(e){a.push({name:e.name})})),e.ismounted&&e.setState({goals:a})}))}},{key:"componentWillUnmount",value:function(){this.ismounted=!1}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Current Goals:"),s.a.createElement("ul",{className:"goalContainer"},this.state.goals.map((function(e){return s.a.createElement("div",{className:"goalDisplay",key:e.name},s.a.createElement("h3",null,e.name))}))))}}]),a}(s.a.Component),v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).addGoal=function(){if(""!==e.state.newGoal){var t=g.database().ref(e.props.un),a={name:e.state.newGoal,physical:e.state.physical,mental:e.state.mental,energy:e.state.energy};t.child(e.state.newGoal).set(a),e.setState({newGoal:"",physical:0,mental:0,energy:0})}else alert("Please enter a name for your goal!")},e.handleChange=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.state={newGoal:"",physical:0,mental:0,energy:0},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t;return this.props.numberOfGoals>2?(e=s.a.createElement("button",{name:"choosingTask",onClick:this.props.selectActive},"Choose Task"),t=s.a.createElement("h2",null,"You can either add more goals or click the Choose Task button to have a task selected for you!")):t=s.a.createElement("h2",null,"I'm going to need at least 3 goals in order to recommend a task for you!"),s.a.createElement("div",{className:"centered"},t,s.a.createElement("form",{className:"newGoalsForm"},s.a.createElement("input",{"aria-label":"Enter your goal here",type:"text",placeholder:"Enter your goal here!",name:"newGoal",onChange:this.handleChange,value:this.state.newGoal}),s.a.createElement("div",{className:"inputPair"},s.a.createElement("label",{htmlFor:"physical"},"How physically demanding is this goal?"),s.a.createElement("input",{type:"range",min:"0",max:"10",name:"physical",onChange:this.handleChange,value:this.state.physical})),s.a.createElement("div",{className:"inputPair"},s.a.createElement("label",{htmlFor:"mental"},"How mentally demanding is this goal?"),s.a.createElement("input",{type:"range",min:"0",max:"10",name:"mental",onChange:this.handleChange,value:this.state.mental})),s.a.createElement("div",{className:"inputPair"},s.a.createElement("label",{htmlFor:"energy"},"How tiring is this goal?"),s.a.createElement("input",{type:"range",min:"0",max:"10",name:"energy",onChange:this.handleChange,value:this.state.energy}))),s.a.createElement("button",{onClick:this.addGoal},"Add Goal"),e,s.a.createElement(d,{un:this.props.un}))}}]),a}(s.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).showForm=function(e){e.preventDefault(),n.setState({showForm:!0})},n.submit=function(e){e.preventDefault(),n.setState({showForm:!1});var t="";n.state.goals.forEach((function(e){var a=0,s=1e3,r="";a+=Math.abs(e.physical-n.state.currentPhys),a+=Math.abs(e.mental-n.state.currentMent),(a+=Math.abs(e.energy-n.state.currentEnergy))<s&&(s=a,r=e.name),t=r})),n.setState({bestOption:t})},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value))},n.complete=function(){g.database().ref(n.props.un).child(n.state.bestOption).remove(),n.setState({bestOption:""}),n.props.checkTaskCount()},n.state={goals:[],showForm:!1,currentPhys:0,currentMent:0,currentEnergy:0,bestOption:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.database().ref(this.props.un).on("value",(function(t){var a=[],n=t.val();Object.values(n).forEach((function(e){a.push({name:e.name,physical:e.physical,mental:e.mental,energy:e.energy})})),e.setState({goals:a})}))}},{key:"render",value:function(){return this.state.showForm?s.a.createElement("form",{className:"centered"},s.a.createElement("h2",null,"How Are you Feeling Now?"),s.a.createElement("div",{className:"inputPair"},s.a.createElement("label",{htmlFor:"physical"},"How physically energized are you?"),s.a.createElement("input",{type:"range",min:"0",max:"10",name:"currentPhys",value:this.state.currentPhys,onChange:this.handleChange})),s.a.createElement("div",{className:"inputPair"},s.a.createElement("label",{htmlFor:"mental"},"How mentally energized are you?"),s.a.createElement("input",{type:"range",min:"0",max:"10",name:"currentMent",value:this.state.currentMent,onChange:this.handleChange})),s.a.createElement("div",{className:"inputPair"},s.a.createElement("label",{htmlFor:"energy"},"How much energy do you have?"),s.a.createElement("input",{type:"range",min:"0",max:"10",name:"currentEnergy",value:this.state.currentEnergy,onChange:this.handleChange})),s.a.createElement("button",{onClick:this.submit},"Submit")):""!==this.state.bestOption?s.a.createElement("div",{className:"centered"},s.a.createElement("p",null,"The most suitable task for you currently is:"),s.a.createElement("h2",null,this.state.bestOption),s.a.createElement("button",{onClick:this.complete},"Mark Task as Complete")):s.a.createElement("div",{className:"centered"},s.a.createElement("button",{onClick:this.showForm},"Choose a task for me!"),s.a.createElement("button",{name:"choosingGoals",onClick:this.props.selectActive},"Add more goals!"),s.a.createElement(d,{un:this.props.un}))}}]),a}(s.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChangeUN=function(t){e.setState({currentUN:t.target.value})},e.login=function(t){if(""!==e.state.currentUN){t.preventDefault();var a=e.state.userNames,n=e.state.currentUN,s=g.database().ref(e.state.currentUN);a.includes(n)?(alert("Welcome back!"),e.setState({choosingGoals:!0})):(alert("I see you are new here, welcome!"),e.setState({choosingGoals:!0}),s.set("")),e.setState({isLoggedIn:!0}),s.on("value",(function(t){e.setState({numberOfGoals:Object.keys(t.val()).length})}))}else alert("Please enter your name!")},e.selectActive=function(t){t.preventDefault(),e.setState(Object(l.a)({choosingGoals:!1,choosingTask:!1},t.target.name,!0))},e.checkTaskCount=function(){e.state.numberOfGoals<=3&&e.setState({choosingTask:!1,choosingGoals:!0})},e.state={isLoggedIn:!1,choosingGoals:!1,choosingTask:!1,userNames:"",currentUN:"",numberOfGoals:5},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.database().ref().once("value",(function(t){var a=t.val(),n=Object.keys(a);e.setState({userNames:n})}))}},{key:"render",value:function(){return!1===this.state.isLoggedIn?s.a.createElement("div",{className:"centered"},s.a.createElement("header",null,s.a.createElement("h1",null,"Let's Get Productive!")),s.a.createElement("form",{className:"loginForm"},s.a.createElement("input",{"aria-label":"Username",type:"text",placeholder:"Username",value:this.state.currentUN,onChange:this.handleChangeUN,required:!0}),s.a.createElement("button",{type:"submit",onClick:this.login},"Login"))):this.state.choosingGoals?s.a.createElement(v,{un:this.state.currentUN,numberOfGoals:this.state.numberOfGoals,goals:this.state.goals,selectActive:this.selectActive}):this.state.choosingTask?s.a.createElement(f,{checkTaskCount:this.checkTaskCount,selectActive:this.selectActive,un:this.state.currentUN,goals:this.state.goals}):void 0}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.fab77b5e.chunk.js.map